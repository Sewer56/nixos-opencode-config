{
  "$schema": "https://opencode.ai/config.json",
  "theme": "catppuccin",
  "plugin": [
    "opencode-gemini-auth"
  ],
  /* update plugins
(cd ~ && sed -i.bak '/"opencode-gemini-auth"/d' .cache/opencode/package.json && \
rm -rf .cache/opencode/node_modules/opencode-gemini-auth && \
echo "Plugin update script finished successfully.")
  */
  "autoupdate": false,
  "instructions": [
    "CLAUDE.md",
  ],
  "tui": {
    "scroll_speed": 1
  },
  "permission": {
    "bash": {
      "*": "allow"
    },
    "webfetch": "allow",
    "doom_loop": "deny"
  },
  "tools": {
    "github_*": false,
    "context7_*": false,
    "deepwiki_*": false
  },
  "agent": {
    "plan": {
      "permission": {
        "task": {
          "orchestrator-*": "deny"
        }
      }
    },
    "build": {
      "permission": {
        "task": {
          "orchestrator-*": "deny"
        }
      }
    },
    "general": {
      "permission": {
        "task": {
          "orchestrator-*": "deny"
        }
      }
    },
    "github": {
      "tools": {
        "github_*": true,
        "context7_*": true,
        "deepwiki_*": true
      }
    }
  },
  "mcp": {
    "github": {
      "type": "local",
      "command": [
        "bash",
        "-c",
        "if [ ! -f \"$HOME/.secrets/github-token\" ]; then echo \"Error: GitHub token secret file not found\" >&2; exit 1; fi; export GITHUB_PERSONAL_ACCESS_TOKEN=\"$(cat \"$HOME/.secrets/github-token\")\"; exec docker run -i --rm -e GITHUB_PERSONAL_ACCESS_TOKEN ghcr.io/github/github-mcp-server"
      ],
      "enabled": true
    },
    "context7": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@upstash/context7-mcp"
      ],
      "enabled": true
    },
    "deepwiki": {
      "type": "remote",
      "url": "https://mcp.deepwiki.com/sse",
      "enabled": true
    }
  },
  // Disable paste summary. Paste whole thing.
  "experimental": {
    "disable_paste_summary": true,
  },
  // Enable thinking for Anthropic models.
  "provider": {
    "anthropic": {
      "models": {
        "claude-sonnet-4-5": {
          "options": {
            "thinking": {
              "type": "enabled",
              "budgetTokens": 31999
            }
          }
        },
        "claude-haiku-4-5": {
          "options": {
            "thinking": {
              "type": "enabled",
              "budgetTokens": 31999
            }
          }
        },
        "claude-opus-4-5": {
          "options": {
            "thinking": {
              "type": "enabled",
              "budgetTokens": 31999
            }
          }
        },
      }
    },
    "github-copilot": {
      "models": {
        "claude-sonnet-4": {
          "options": {
            "thinking": {
              "type": "enabled",
              "budgetTokens": 31999
            }
          }
        }
      }
    }
  }
}