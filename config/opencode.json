{
  "$schema": "https://opencode.ai/config.json",
  "theme": "catppuccin",
  "plugin": [
    "opencode-gemini-auth"
  ],
  /* update plugins
(cd ~ && sed -i.bak '/"opencode-gemini-auth"/d' .cache/opencode/package.json && \
rm -rf .cache/opencode/node_modules/opencode-gemini-auth && \
echo "Plugin update script finished successfully.")
  */
  "autoupdate": false,
  "instructions": [
    "CLAUDE.md",
  ],
  "tui": {
    "scroll_speed": 1
  },
  "permission": {
    "bash": {
      "*": "allow"
    },
    "webfetch": "allow",
    "doom_loop": "deny",
    "github_*": "deny",
    "context7_*": "deny",
    "deepwiki_*": "deny",
    "external_directory": "allow"
  },
  "agent": {
    "plan": {
      "permission": {
        "task": {
          "orchestrator-*": "deny",
          "mcp-search": "allow"
        }
      }
    },
    "build": {
      "permission": {
        "task": {
          "orchestrator-*": "deny",
          "mcp-search": "deny"
        }
      }
    },
    "general": {
      "model": "synthetic/hf:zai-org/GLM-4.7",
      "permission": {
        "task": {
          "orchestrator-*": "deny",
          "mcp-search": "allow"
        }
      }
    },
    "explore": {
      "disable": true
    }
  },
  "mcp": {
    "github": {
      "type": "local",
      "command": [
        "bash",
        "-c",
        "if [ ! -f \"$HOME/.secrets/github-token\" ]; then echo \"Error: GitHub token secret file not found\" >&2; exit 1; fi; export GITHUB_PERSONAL_ACCESS_TOKEN=\"$(cat \"$HOME/.secrets/github-token\")\"; exec docker run -i --rm -e GITHUB_PERSONAL_ACCESS_TOKEN ghcr.io/github/github-mcp-server"
      ],
      "enabled": true
    },
    "context7": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@upstash/context7-mcp"
      ],
      "enabled": true
    },
    "deepwiki": {
      "type": "remote",
      "url": "https://mcp.deepwiki.com/sse",
      "enabled": true
    }
  },
  // Disable paste summary. Paste whole thing.
  "experimental": {
    "disable_paste_summary": true,
  },
}